<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>随抛物线运动的小球</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }
        body {
            background-color: teal;
        }
        #canvas {
            border: 1px solid white;
        }
    </style>
</head>

<body>
    <canvas id="canvas">当前浏览器不支持canvas</canvas>
    <script>
        var canvas = document.getElementById('canvas')
        if (canvas.getContext) {
            var ctx = canvas.getContext('2d')
            var W = 500,
                H = 600
            canvas.width = W
            canvas.height = H
            var R = H / 20 - 1
            var numArr = [1, 2, 3, 4]
            var colorArr = ['pink', 'orange', 'yellow', 'skyblue', 'SpringGreen', 'Gold', 'coral', 'darkorchid', 'deepskyblue']
            // x,y坐标
            var x = Math.floor(Math.random() * 60 + 10)
            var y = Math.floor(Math.random() * 60 + 10)
            // x、y轴的步长值
            var stepY = -3 * numArr[Math.floor(Math.random() * numArr.length)]
            var stepX = Math.floor(Math.random() * 10 - 5)
            // y轴变化值
            var disY = numArr[Math.floor(Math.random() * numArr.length)]
            // 随机的颜色
            var color = colorArr[Math.floor(Math.random() * colorArr.length)]
            clearInterval(oTimer)
            var oTimer = setInterval(function () {
                stepY += disY
                x += stepX
                y += stepY
                canvas.height = H
                ctx.fillStyle = color
                ctx.beginPath()
                ctx.arc(x, y, R, 0, Math.PI * 2)
                ctx.closePath()
                ctx.fill()

                if (x > W + R || y > H + R) {
                    clearInterval(oTimer)
                }
            }, 50)
        }
    </script>
</body>

</html>